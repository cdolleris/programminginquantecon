<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>3&nbsp; Basic Programming – Notes for 3611: Programming in Quantitative Economics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./programming_w_functions.html" rel="next">
<link href="./getting_started_with_r.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ecba78ac1d23ec93bb40517a5fbc1f6e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lectures.html">Lectures</a></li><li class="breadcrumb-item"><a href="./basic_programming.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Basic Programming</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Notes for 3611: Programming in Quantitative Economics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./lectures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to the Course</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started_with_r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic_programming.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Basic Programming</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programming_w_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Programming with Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./efficiency_and_parallel_computing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Program Efficiency and Parallel Computing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Simulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rootfinding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Root-finding</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./numericaloptimization1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Numerical Optimization 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./numericaloptimization2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Numerical Optimization 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./constrainedandpitfalls.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Constrained Optimization and Pitfalls in Optimization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cpp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Integration of C++ Code with Rcpp</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Creating R packages with RStudio</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./problemsets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem sets</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problemset1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Exercise set 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problemset2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Exercise set 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problemset3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Exercise set 3</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problemset4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Exercise set 4</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problemset5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Exercise set 5</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./problemset6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Exercise set 6</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2020.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Ordinary exam 2020</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2021.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Ordinary exam 2021</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2021re.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Retake exam 2021</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2022.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Ordinary exam 2022</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2022re.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Retake exam 2022</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2023.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Ordinary exam 2023</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2023re.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Retake exam 2023</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2024.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Ordinary exam 2024</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exam2024retake.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Retake exam 2024</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extra_exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Extra exercises</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./advanced_exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Advanced exercises</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extra_extra_exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Extra extra exercises</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./likelihood_exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Likelihood Exercises</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#the-if-statement" id="toc-the-if-statement" class="nav-link active" data-scroll-target="#the-if-statement"><span class="header-section-number">3.1</span> The <code>if</code> statement</a>
  <ul class="collapse">
<li><a href="#small-exercise" id="toc-small-exercise" class="nav-link" data-scroll-target="#small-exercise"><span class="header-section-number">3.1.1</span> Small Exercise</a></li>
  <li><a href="#nested-if-statements" id="toc-nested-if-statements" class="nav-link" data-scroll-target="#nested-if-statements"><span class="header-section-number">3.1.2</span> Nested if statements</a></li>
  <li><a href="#an-extension-to-the-exercise-solution-above" id="toc-an-extension-to-the-exercise-solution-above" class="nav-link" data-scroll-target="#an-extension-to-the-exercise-solution-above"><span class="header-section-number">3.1.3</span> An extension to the exercise solution above</a></li>
  </ul>
</li>
  <li>
<a href="#the-for-loop" id="toc-the-for-loop" class="nav-link" data-scroll-target="#the-for-loop"><span class="header-section-number">3.2</span> The <code>for</code> loop</a>
  <ul class="collapse">
<li><a href="#exercise-a-combination-of-for-loops-and-if-conditions" id="toc-exercise-a-combination-of-for-loops-and-if-conditions" class="nav-link" data-scroll-target="#exercise-a-combination-of-for-loops-and-if-conditions"><span class="header-section-number">3.2.1</span> Exercise: a combination of for loops and if conditions</a></li>
  </ul>
</li>
  <li>
<a href="#the-while-loop" id="toc-the-while-loop" class="nav-link" data-scroll-target="#the-while-loop"><span class="header-section-number">3.3</span> The <code>while</code> loop</a>
  <ul class="collapse">
<li><a href="#exercise-with-while-loops" id="toc-exercise-with-while-loops" class="nav-link" data-scroll-target="#exercise-with-while-loops"><span class="header-section-number">3.3.1</span> Exercise with while loops</a></li>
  </ul>
</li>
  <li>
<a href="#vector-based-programming" id="toc-vector-based-programming" class="nav-link" data-scroll-target="#vector-based-programming"><span class="header-section-number">3.4</span> Vector-based programming</a>
  <ul class="collapse">
<li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">3.4.1</span> Example</a></li>
  </ul>
</li>
  <li>
<a href="#load-data-in-r" id="toc-load-data-in-r" class="nav-link" data-scroll-target="#load-data-in-r"><span class="header-section-number">3.5</span> Load data in R</a>
  <ul class="collapse">
<li><a href="#load-maersk-historical-prices" id="toc-load-maersk-historical-prices" class="nav-link" data-scroll-target="#load-maersk-historical-prices"><span class="header-section-number">3.5.1</span> Load MAERSK historical prices</a></li>
  <li><a href="#descriptive-statistics-of-the-maersk-log-returns" id="toc-descriptive-statistics-of-the-maersk-log-returns" class="nav-link" data-scroll-target="#descriptive-statistics-of-the-maersk-log-returns"><span class="header-section-number">3.5.2</span> Descriptive statistics of the MAERSK log-returns</a></li>
  <li><a href="#output-to-a-file" id="toc-output-to-a-file" class="nav-link" data-scroll-target="#output-to-a-file"><span class="header-section-number">3.5.3</span> Output to a file</a></li>
  </ul>
</li>
  <li>
<a href="#plotting" id="toc-plotting" class="nav-link" data-scroll-target="#plotting"><span class="header-section-number">3.6</span> Plotting</a>
  <ul class="collapse">
<li><a href="#basic-arguments-for-plot" id="toc-basic-arguments-for-plot" class="nav-link" data-scroll-target="#basic-arguments-for-plot"><span class="header-section-number">3.6.1</span> Basic arguments for plot</a></li>
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1"><span class="header-section-number">3.6.2</span> Example:</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise"><span class="header-section-number">3.6.3</span> Exercise</a></li>
  </ul>
</li>
  <li><a href="#additional-code-in-r" id="toc-additional-code-in-r" class="nav-link" data-scroll-target="#additional-code-in-r"><span class="header-section-number">3.7</span> Additional code in R</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lectures.html">Lectures</a></li><li class="breadcrumb-item"><a href="./basic_programming.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Basic Programming</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Basic Programming</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>This lecture introduces a set of basic programming constructs, which are the building blocks of most programs.</p>
<p>Some of these tools are used by practically all programming languages, for example, conditional execution by <code>if</code> statements, and looped execution by <code>for</code> and <code>while</code> statements.</p>
<p>Notice that code that seems to be efficient in another language may not be efficient in R. For example, R is known to be quite slow in computing <code>for</code> and <code>while</code> loops. On the other hand, R is fast in doing vector-based operations.</p>
<p>A program or script is just a list of commands, which are executed one after the other. A program is usually composed by three parts:</p>
<ul>
<li><p>Input</p></li>
<li><p>Computations</p></li>
<li><p>Output</p></li>
</ul>
<p>Usually, we write the list of commands in separate files, called scripts, which we can save on our hard drive.</p>
<p>Suppose we have a program saved as <code>prog.r</code> in the working directory (recall the <code>getwd</code> and <code>setwd</code> functions). In order to run or execute the program use the command:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"prog.r"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="the-if-statement" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="the-if-statement">
<span class="header-section-number">3.1</span> The <code>if</code> statement</h2>
<p>It is often useful to choose the execution of some or other part of a program to depend on a condition. The <code>if</code> function has the form:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">logical_expression</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">expression_1</span> <span class="co">#code to run if logical_expression is TRUE</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A natural extension of the <code>if</code> command includes an <code>else</code> part:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">logical_expression</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">expression_1</span> </span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">expression_2</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When an <code>if</code> expression is evaluated, if <code>logical_expression</code> is <code>TRUE</code> then the first group of expressions is executed and the second group of expressions is not executed. Conversely, if <code>logical_expression</code> is <code>FALSE</code> then only the second group of expressions is executed.</p>
<p><strong>Example</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># random number from standard normal distribution</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"x is positive"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"x is non-positive"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "x is non-positive"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Note: be careful with the use of the curly brackets <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>!</em></p>
<section id="small-exercise" class="level3" data-number="3.1.1"><h3 data-number="3.1.1" class="anchored" data-anchor-id="small-exercise">
<span class="header-section-number">3.1.1</span> Small Exercise</h3>
<ul>
<li><em>Generate a random number from a standard Gaussian distribution.</em></li>
<li>
<em>If the number is negative, then compute the square of it and print the value of</em> <code>x</code> *along with the output, e.g., “the value of x is _ and its square is _” (Hint: use the* <code>cat</code><em>function).</em>
</li>
<li>
<em>Otherwise, compute the cube and print the value of</em> <code>x</code> <em>along with the output.</em>
</li>
</ul>
<p><strong>Solution</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># Generates 1 observation, mean 0 and standard deviation 1</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The value of x is "</span>, <span class="va">dX</span>, <span class="st">" and its square is "</span>, <span class="va">dX</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The value of x is "</span>, <span class="va">dX</span>, <span class="st">" and its cube is "</span>, <span class="va">dX</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; The value of x is  -0.09977998  and its square is  0.009956044</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="nested-if-statements" class="level3" data-number="3.1.2"><h3 data-number="3.1.2" class="anchored" data-anchor-id="nested-if-statements">
<span class="header-section-number">3.1.2</span> Nested if statements</h3>
<p>Nested if statements are constructed using the <code>else if</code> command:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">logical_expression_1</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">expression_1</span> <span class="co"># code to run if logical_expression_1 is TRUE</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">logical_expression_2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">expression_2</span> <span class="co"># code to run if logical_expression_1 is FALSE and logical_expression_2 is TRUE</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">logical_expression_2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">expression_3</span> <span class="co"># code to run if logical_expression_1 is FALSE and logical_expression_2 is FALSE and logical_expression_3 is TRUE</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">expression_4</span> <span class="co"># code to run if all logicals are FALSE</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Example</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dX</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># Random number from the uniform distribution</span></span>
<span><span class="co">#&gt; [1] -0.4349783</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&lt;</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"x is less than 0.5"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&lt;</span> <span class="fl">0.75</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"x is less than 0.75"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span> <span class="op">(</span><span class="st">"x is greather than or equal to 0.75"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "x is less than 0.5"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="an-extension-to-the-exercise-solution-above" class="level3" data-number="3.1.3"><h3 data-number="3.1.3" class="anchored" data-anchor-id="an-extension-to-the-exercise-solution-above">
<span class="header-section-number">3.1.3</span> An extension to the exercise solution above</h3>
<p>Extending the code from above to also include a nested <code>else if</code> such that it includes an action for the event of a non-negative value of <code>x</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># random number from the Gaussian distribution</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"the value of x is "</span>, <span class="va">dX</span>, <span class="st">" and its square is "</span>, <span class="va">dX</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&gt;=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"x is non-negative, taking the value "</span>, <span class="va">dX</span>, <span class="st">" and its square is "</span>, <span class="va">dX</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="co"># Note the tautological nature of the logical expression in the else if part...</span></span>
<span><span class="co">#&gt; x is non-negative, taking the value  0.4157251  and its square is  0.1728273</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="the-for-loop" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="the-for-loop">
<span class="header-section-number">3.2</span> The <code>for</code> loop</h2>
<p>The <code>for</code> command has the following form, where <code>x</code> is a simple variable and <code>vector</code> is a vector.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">x</span> <span class="kw">in</span> <span class="va">vector</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">expression_1</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When executed, the for command executes the group of expressions within the braces {} once for each element of <code>vector</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">iX</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">iX</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that <code>vector</code> can also be a <code>list</code>.</p>
<p><strong>Example</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">vX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">9</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">dSum_x</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">iX</span> <span class="kw">in</span> <span class="va">vX</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dSum_x</span> <span class="op">&lt;-</span> <span class="va">dSum_x</span> <span class="op">+</span> <span class="va">iX</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The current loop element is "</span>, <span class="va">iX</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The cumulative total is "</span>, <span class="va">dSum_x</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; The current loop element is  1 </span></span>
<span><span class="co">#&gt; The cumulative total is  1 </span></span>
<span><span class="co">#&gt; The current loop element is  3 </span></span>
<span><span class="co">#&gt; The cumulative total is  4 </span></span>
<span><span class="co">#&gt; The current loop element is  5 </span></span>
<span><span class="co">#&gt; The cumulative total is  9 </span></span>
<span><span class="co">#&gt; The current loop element is  7 </span></span>
<span><span class="co">#&gt; The cumulative total is  16 </span></span>
<span><span class="co">#&gt; The current loop element is  9 </span></span>
<span><span class="co">#&gt; The cumulative total is  25</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">vX</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 25</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">vX</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  1  4  9 16 25</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="exercise-a-combination-of-for-loops-and-if-conditions" class="level3" data-number="3.2.1"><h3 data-number="3.2.1" class="anchored" data-anchor-id="exercise-a-combination-of-for-loops-and-if-conditions">
<span class="header-section-number">3.2.1</span> Exercise: a combination of for loops and if conditions</h3>
<ul>
<li>
<em>Within a</em> <code>for</code> <em>loop, that runs from 1 to 100, generate a standard normal random variable.</em>
</li>
<li><em>For each draw, check whether it is positive or negative.</em></li>
<li><em>Calculate the fraction of the positive and negative realizations.</em></li>
<li><em>Store the simulated variables in a vector</em></li>
</ul>
<p><strong>Solution</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iPos</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">iNeg</span> <span class="op">&lt;-</span> <span class="fl">0</span> <span class="co"># This integer is technically redundant, as the knowledge of the positive values and the total sum allows us to infer the negative values...</span></span>
<span><span class="va">vSimVals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">iX</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">dX</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">iPos</span> <span class="op">&lt;-</span> <span class="va">iPos</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">iNeg</span> <span class="op">&lt;-</span> <span class="va">iNeg</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">vSimVals</span><span class="op">[</span><span class="va">iX</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">dX</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The fraction of positive realizations is: "</span>, <span class="va">iPos</span>, <span class="st">"/"</span>, <span class="op">(</span><span class="va">iNeg</span> <span class="op">+</span> <span class="va">iPos</span><span class="op">)</span>, <span class="st">" or "</span>, <span class="va">iPos</span> <span class="op">/</span> <span class="op">(</span><span class="va">iNeg</span> <span class="op">+</span> <span class="va">iPos</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; The fraction of positive realizations is:  52 / 100  or  0.52</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"The first of the simulated values are: "</span>, <span class="va">vSimVals</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="st">"..."</span><span class="op">)</span></span>
<span><span class="co">#&gt; The first of the simulated values are:  -1.746912 -0.5711924 -0.8690102 -0.4154249 1.603575 ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="the-while-loop" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="the-while-loop">
<span class="header-section-number">3.3</span> The <code>while</code> loop</h2>
<p>Often, we do not know beforehand how many times we need to go around a loop. That is, each time we go around the loop, we check some condition to see if we are done yet.</p>
<p>In this situation, we use a <code>while</code> loop, which has the form:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">while</span> <span class="op">(</span><span class="va">logical_expression</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># This should have an impact on logical expression</span></span>
<span>  <span class="va">expression_1</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When a <code>while</code> command is executed, <code>logical_expression</code> is evaluted first. If it is true, then the group of expressions in braces {} is executed.</p>
<p>Until <code>logical_expression</code> becomes false, the <code>while</code> command executes the group of expressions in braces {}. <strong>warning:</strong> <code>while</code> <strong>loops can run forever, if a stopping criterion has not been specified!</strong></p>
<p><strong>Example</strong>:</p>
<p>Consider the following example where we use the <code>while</code> loop to compute the square of numbers until 6:</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iN</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="va">iN</span> <span class="op">&lt;=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">iN</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="va">iN</span> <span class="op">&lt;-</span> <span class="va">iN</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; [1] 16</span></span>
<span><span class="co">#&gt; [1] 25</span></span>
<span><span class="co">#&gt; [1] 36</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="exercise-with-while-loops" class="level3" data-number="3.3.1"><h3 data-number="3.3.1" class="anchored" data-anchor-id="exercise-with-while-loops">
<span class="header-section-number">3.3.1</span> Exercise with while loops</h3>
<ul>
<li><em>Generate a random number from a Gaussian distribution with mean 100 and variance 100.</em></li>
<li>
<em>Start a</em> <code>while</code> <em>loop that at each iteration divides the result obtained at the previous iteration by two</em>
</li>
<li><em>Set the stopping criterion when the result at the previous iteration is lower than 1.</em></li>
<li>
<em>Print the number of iterations when the</em> <code>while</code> <em>loop has terminated.</em>
</li>
<li>
<em>Could you accomplish the same with a</em> <code>for</code><em>-loop? How?</em>
</li>
</ul>
<p><strong>Solution</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dCurrent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">dIte</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="va">dCurrent</span> <span class="op">&gt;=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dCurrent</span> <span class="op">&lt;-</span> <span class="va">dCurrent</span> <span class="op">/</span> <span class="fl">2</span></span>
<span>  <span class="va">dIte</span> <span class="op">&lt;-</span> <span class="va">dIte</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">dIte</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The same cannot be accomplished with a <code>for</code>-loop, because the <code>for</code>-loop requires a predetermined number of iterations which is not possible to know beforehand with a random number.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click to view an example of nested while and if statements
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>Want.<span class="fl">2.</span>bake.cake <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>bowl <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="cf">while</span>(Want.<span class="fl">2.</span>bake.cake <span class="sc">==</span> <span class="cn">FALSE</span>) {</span>
<span id="cb16-5"><a href="#cb16-5"></a></span>
<span id="cb16-6"><a href="#cb16-6"></a>  Want.<span class="fl">2.</span>bake.cake <span class="ot">&lt;-</span> (<span class="fu">runif</span>(<span class="dv">1</span>) <span class="sc">&lt;</span> <span class="fl">0.5</span>)</span>
<span id="cb16-7"><a href="#cb16-7"></a></span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="cf">if</span> (Want.<span class="fl">2.</span>bake.cake <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb16-9"><a href="#cb16-9"></a></span>
<span id="cb16-10"><a href="#cb16-10"></a>    <span class="fu">print</span>(<span class="st">"You start baking, find the appropriate bowl"</span>)</span>
<span id="cb16-11"><a href="#cb16-11"></a>    <span class="fu">Sys.sleep</span>(<span class="dv">2</span>)</span>
<span id="cb16-12"><a href="#cb16-12"></a></span>
<span id="cb16-13"><a href="#cb16-13"></a>    <span class="fu">print</span>(<span class="st">"looking for bowl..."</span>)</span>
<span id="cb16-14"><a href="#cb16-14"></a></span>
<span id="cb16-15"><a href="#cb16-15"></a>    <span class="cf">while</span> ((<span class="fu">prod</span>(<span class="fu">dim</span>(bowl)) <span class="sc">!=</span> <span class="dv">100</span> <span class="sc">|</span> <span class="fu">nrow</span>(bowl) <span class="sc">!=</span> <span class="fu">ncol</span>(bowl))) {</span>
<span id="cb16-16"><a href="#cb16-16"></a></span>
<span id="cb16-17"><a href="#cb16-17"></a>      bowl <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>,<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>,<span class="dv">1</span>), <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>,<span class="dv">1</span>))</span>
<span id="cb16-18"><a href="#cb16-18"></a></span>
<span id="cb16-19"><a href="#cb16-19"></a>      <span class="cf">if</span> (<span class="sc">!</span>(<span class="fu">prod</span>(<span class="fu">dim</span>(bowl)) <span class="sc">!=</span> <span class="dv">100</span> <span class="sc">|</span> <span class="fu">nrow</span>(bowl) <span class="sc">!=</span> <span class="fu">ncol</span>(bowl))){</span>
<span id="cb16-20"><a href="#cb16-20"></a>        <span class="fu">Sys.sleep</span>(<span class="dv">2</span>)</span>
<span id="cb16-21"><a href="#cb16-21"></a></span>
<span id="cb16-22"><a href="#cb16-22"></a>        <span class="fu">print</span>(<span class="st">"Wrong bowl... look for another one.."</span>)</span>
<span id="cb16-23"><a href="#cb16-23"></a>        <span class="fu">print</span>(<span class="st">"looking for another..."</span>)</span>
<span id="cb16-24"><a href="#cb16-24"></a></span>
<span id="cb16-25"><a href="#cb16-25"></a>      }</span>
<span id="cb16-26"><a href="#cb16-26"></a>    }</span>
<span id="cb16-27"><a href="#cb16-27"></a>  }</span>
<span id="cb16-28"><a href="#cb16-28"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Please note that the code is actually wrong! The logical expression in the <code>if</code> condition after sampling of a bowl is only true if the correct bowl is found, not when the wrong bowl is found.</p>
</div>
</div>
</div>
</section></section><section id="vector-based-programming" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="vector-based-programming">
<span class="header-section-number">3.4</span> Vector-based programming</h2>
<p>It is often necessary to perform an operation upon each of the elements of a vector.</p>
<p>R is set up such that these programming tasks can be accomplished using vector operations rather than looping.</p>
<p>Using vector operations is more efficient computationally as well as more concise literally. For example, consider the <code>while</code> loop example of computing the square of the first 6 numbers from before, now computed using vector based programming.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">vX</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span></span>
<span><span class="va">vX</span></span>
<span><span class="co">#&gt; [1]  1  4  9 16 25 36</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="example" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="example">
<span class="header-section-number">3.4.1</span> Example</h3>
<p>If we want to find the sum of the first <em>n</em> = 100 squares, we might use a <code>for</code> loop:</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iN</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">dS</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">iN</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dS</span> <span class="op">&lt;-</span> <span class="va">dS</span> <span class="op">+</span> <span class="va">i</span> <span class="op">^</span> <span class="fl">2</span></span>
<span><span class="op">}</span></span>
<span><span class="va">dS</span></span>
<span><span class="co">#&gt; [1] 338450</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Or use vector-based programming:</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">iN</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 338350</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Comparing the computational time, we see that vector-based programming is more efficient.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">iN</span> <span class="op">&lt;-</span> <span class="fl">1e8</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">dS</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">iN</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dS</span> <span class="op">&lt;-</span> <span class="va">dS</span> <span class="op">+</span> <span class="va">i</span> <span class="op">^</span><span class="fl">2</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">dS</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt;   bruger   system forløbet </span></span>
<span><span class="co">#&gt;     2.28     0.00     2.28</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span><span class="op">(</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">iN</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt;   bruger   system forløbet </span></span>
<span><span class="co">#&gt;     0.31     0.09     0.40</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="load-data-in-r" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="load-data-in-r">
<span class="header-section-number">3.5</span> Load data in R</h2>
<p>R implements functionalities to read from text files like: <code>.txt</code> and <code>.csv</code>. In order to read excel files external libraries are required, such as: <strong>excel, gdata, rodbc, XLConnect, xls, xlsReadWrite, xlsx.</strong></p>
<p>R provides a number of ways to read data from a file: <code>scan</code>, <code>read.table</code>, <code>read.csv</code>. In this course, we will mostly use <code>read.table</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">file</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">""</span>, dec <span class="op">=</span> <span class="st">"."</span>, <span class="va">row.names</span>, <span class="va">col.names</span>, na.strings <span class="op">=</span> <span class="st">"NA"</span>, skip <span class="op">=</span> <span class="fl">0</span>, <span class="va">...</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The dots … means that other arguments are available. See <code><a href="https://rdrr.io/r/utils/read.table.html">help(read.table)</a></code>.</p>
<p><code>file</code>: the name of the file which the data are to be read from. Each row of the table appears as one line of the file. If it does not contain an absolute path, the file name is relative to the current working directory, <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code>.</p>
<p><code>header</code>: a logical value indicating whether the file contains the names of the variables as its first line.</p>
<p><code>sep</code>: the field separator character. Values on each line of the file are separated by this character. If <code>sep = ""</code> (the default), the separator is ‘white space’.</p>
<p><code>dec</code>: the character used in the file for decimal points.</p>
<p><code>row.names</code>: a vector of row names. This can be a vector giving the actual row names, or a single number giving the column of the table which contains the row names, or character string giving the name of the table column containing the row name.</p>
<p><code>col.names</code>: a vector of optional names for the variables. The default is to use “V” followed by the column number.</p>
<p><code>na.string</code>: a character vector of strings which are to be interpreted as NA values.</p>
<p><code>skip</code>: the number of lines of the data file to skip before beginning to read data.</p>
<section id="load-maersk-historical-prices" class="level3" data-number="3.5.1"><h3 data-number="3.5.1" class="anchored" data-anchor-id="load-maersk-historical-prices">
<span class="header-section-number">3.5.1</span> Load MAERSK historical prices</h3>
<p>The data set with historical prices for MAERSK is contained in the <code>MAERSK-B.CO.csv</code>-file. In the case below, the file is in the folder named ‘data’.</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"data/MAERSK-B.CO.csv"</span>, sep <span class="op">=</span> <span class="st">","</span>, dec <span class="op">=</span> <span class="st">"."</span>, header <span class="op">=</span> <span class="cn">TRUE</span>, row.names <span class="op">=</span> <span class="fl">1</span>, na.strings <span class="op">=</span> <span class="st">"null"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mData</span><span class="op">)</span></span>
<span><span class="co">#&gt;               Open    High     Low   Close Adj.Close Volume</span></span>
<span><span class="co">#&gt; 2000-02-01 7640.00 7666.67 7333.33 7466.67  2267.703   4590</span></span>
<span><span class="co">#&gt; 2000-02-02 7466.67 7666.67 7400.00 7566.67  2298.074   5640</span></span>
<span><span class="co">#&gt; 2000-02-03 7741.07 7800.00 7659.00 7800.00  2368.939   3090</span></span>
<span><span class="co">#&gt; 2000-02-04 7800.00 7800.00 7525.80 7600.00  2308.197   1185</span></span>
<span><span class="co">#&gt; 2000-02-07 7660.00 7666.67 7566.67 7600.00  2308.197   1035</span></span>
<span><span class="co">#&gt; 2000-02-08 7600.00 8200.00 7600.00 8110.80  2463.332  12990</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">mData</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4571    6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="descriptive-statistics-of-the-maersk-log-returns" class="level3" data-number="3.5.2"><h3 data-number="3.5.2" class="anchored" data-anchor-id="descriptive-statistics-of-the-maersk-log-returns">
<span class="header-section-number">3.5.2</span> Descriptive statistics of the MAERSK log-returns</h3>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">mData</span><span class="op">[</span>, <span class="st">"Adj.Close"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="co"># Search for NAs</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">mData</span><span class="op">[</span>, <span class="st">"Adj.Close"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># How many NAs?</span></span>
<span><span class="co">#&gt; [1] 59</span></span>
<span><span class="co"># Compute financial log-returns omitting the NAs:</span></span>
<span><span class="va">vY</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">mData</span><span class="op">[</span>, <span class="st">"Adj.Close"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Compute descriptive statistics</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"mean"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">vY</span><span class="op">)</span>, <span class="st">"sd"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">vY</span><span class="op">)</span>, <span class="st">"median"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">vY</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;         mean           sd       median </span></span>
<span><span class="co">#&gt; 0.0003439318 0.0220065696 0.0000000000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>On a slightly more advanced note, very quick and efficient summary statistics can be obtained with</em> <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code><em>.</em></p>
</section><section id="output-to-a-file" class="level3" data-number="3.5.3"><h3 data-number="3.5.3" class="anchored" data-anchor-id="output-to-a-file">
<span class="header-section-number">3.5.3</span> Output to a file</h3>
<p>R provides a number of commands for writing output to a file.</p>
<p>We will generally use <code>write.table</code> for writing numeric values and <code>cat</code> for writing text, or a combination of numeric and character values.</p>
<p>The command <code>write.table</code> has the form:</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.table</a></span><span class="op">(</span><span class="va">x</span>, file <span class="op">=</span> <span class="st">""</span>, quote <span class="op">=</span> <span class="cn">TRUE</span>, sep <span class="op">=</span> <span class="st">" "</span>, na <span class="op">=</span> <span class="st">"NA"</span>, dec <span class="op">=</span> <span class="st">"."</span>, row.names <span class="op">=</span> <span class="cn">TRUE</span>, col.names <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>x</code>: the object to be written, preferably a matrix or dataframe.</p>
<p><code>file</code>: character string naming a file.</p>
<p><code>quote</code>: a logical value (TRUE or FALSE). If TRUE, any character columns will be surrounded by double quotes (““).</p>
<p><code>sep</code> and <code>dec</code> work as in <code>read.table</code>.</p>
<p><code>na</code>: the string to use for missing values in the data.</p>
<p><code>row.names</code>: either a logical value indicating whether the row names of <code>x</code> are to be written along with <code>x</code>, or a character vector of row names to be written.</p>
<p><code>col.names</code>: either a logical value indicating whether the column names of <code>x</code> are to be written along with <code>x</code>, or a character vector of column names to be written.</p>
<p><strong>Example</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.table</a></span><span class="op">(</span><span class="va">vY</span>, file <span class="op">=</span> <span class="st">"MAERSK_returns.txt"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, col.names <span class="op">=</span> <span class="cn">FALSE</span>, dec <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="plotting" class="level2" data-number="3.6"><h2 data-number="3.6" class="anchored" data-anchor-id="plotting">
<span class="header-section-number">3.6</span> Plotting</h2>
<p>R provides a huge number of plotting routines. The generic function for plotting of R objects is <code>plot</code>.</p>
<p>External pakcages can also be used for plotting (e.g, <strong>ggplot2</strong>, see <a href="http://ggplot2.org/" class="uri">http://ggplot2.org/</a> if you’re interested), however, we will focus on the built-in function <code>plot</code> in this course.</p>
<p>R generally has good graphical capabilities. Get an initial overview of these capabilities by typing <code>demo(graphics)</code> in your R console.</p>
<p><code>plot</code> can be used to represent a pair of data points <code>x</code>and <code>y</code>, e.g.:</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">vX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="va">vY</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">vX</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">vX</span>, <span class="va">vY</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="basic_programming_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Or a single vector of points, e.g.:</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">vZ</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">vZ</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="basic_programming_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="basic-arguments-for-plot" class="level3" data-number="3.6.1"><h3 data-number="3.6.1" class="anchored" data-anchor-id="basic-arguments-for-plot">
<span class="header-section-number">3.6.1</span> Basic arguments for plot</h3>
<p>The <code>plot</code> command offerse a wide variety of options for customizing the graphic. Some of these are:</p>
<ul>
<li><p><code>type</code> determines the type of the plot, e.g., <code>type = "p"</code> for points (the default), <code>type = "l"</code> for lines, <code>type = "o"</code> for both lines and points, <code>type = "s"</code> for a step function, <code>type = "n"</code> for no plotting, etc. etc…</p></li>
<li><p><code>xlim = c(a,b)</code> and <code>ylim = c(a,b)</code> will set the lower and upper limits of the x- and y-axis to be a and b, respectively.</p></li>
<li><p><code>main = "Plot title goes here"</code> provides the plot title.</p></li>
<li><p><code>xlab = "X axis label goes here"</code> provides the label for the x-axis.</p></li>
<li><p><code>ylab = "Y axis label goes here"</code> provides the label for the y-axis.</p></li>
<li><p><code>col = "black"</code> colour for lines and points. Type <code><a href="https://rdrr.io/r/grDevices/colors.html">colours()</a></code> for a list of colours known to R (there are a lot!).</p></li>
<li><p><code>lty</code> determines the line type, e.g., 0=blank, 1=solid (default), 2=dashed, 3=dotted, etc…</p></li>
<li><p><code>lwd</code> determines the line width.</p></li>
<li><p><code>pch = k</code> determines the shape of points with <code>k</code> taking a value from 1 to 25.</p></li>
<li><p>To add points <code>(x[1], y[1]), (x[2], y[2]), ...</code> to the current plot, use <code>points(x, y)</code>.</p></li>
<li><p>To add lines instead use <code>lines(x, y)</code>.</p></li>
<li><p>To add text use <code>text(x, y, "test")</code>.</p></li>
<li><p>Vertical and horizontal lines can be drawn using <code>abline(v = expos)</code> and <code>abline(h = ypos)</code>.</p></li>
<li><p>The functions <code>points</code>, <code>lines</code>, <code>abline</code> also accept the <code>col</code>, <code>lty</code>, <code>lwd</code> arguments.</p></li>
<li><p>The command <code>par</code> is used to set many different parametrs that control how graphics are produced (see <code><a href="https://rdrr.io/r/graphics/par.html">help(par)</a></code>). E.g., the command <code>par(mfrow = c(nr, nc))</code> creates a grid of plots with <code>nr</code> rows and <code>nc</code> columns, which is filled row by row. <code>par(mfcol = c(nr, nc))</code> is similar but fills the plots column by column.</p></li>
</ul></section><section id="example-1" class="level3" data-number="3.6.2"><h3 data-number="3.6.2" class="anchored" data-anchor-id="example-1">
<span class="header-section-number">3.6.2</span> Example:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb28-2"><a href="#cb28-2"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.01</span>)</span>
<span id="cb28-3"><a href="#cb28-3"></a>y.upper <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">sqrt</span>(x)</span>
<span id="cb28-4"><a href="#cb28-4"></a>y.lower <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span> <span class="sc">*</span> <span class="fu">sqrt</span>(x)</span>
<span id="cb28-5"><a href="#cb28-5"></a>y.max <span class="ot">&lt;-</span> <span class="fu">max</span>(y.upper)</span>
<span id="cb28-6"><a href="#cb28-6"></a>y.min <span class="ot">&lt;-</span> <span class="fu">min</span>(y.lower)</span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">5</span>), <span class="fu">c</span>(y.min, y.max), <span class="at">type =</span> <span class="st">"n"</span>, <span class="at">xlab =</span> <span class="st">"x"</span>, <span class="at">ylab =</span> <span class="st">"y"</span>, <span class="at">main =</span> <span class="st">"Parabola Graph"</span>)</span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="fu">lines</span>(x, y.upper, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"deepskyblue"</span>)</span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="fu">lines</span>(x, y.lower, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"deepskyblue"</span>)</span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">lty =</span> <span class="dv">4</span>)</span>
<span id="cb28-11"><a href="#cb28-11"></a><span class="fu">points</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="at">col =</span> <span class="st">"tomato"</span>, <span class="at">pch =</span> <span class="dv">5</span>)</span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="fu">text</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="st">"focus (1,0)"</span>, <span class="at">pos =</span> <span class="dv">4</span>)</span>
<span id="cb28-13"><a href="#cb28-13"></a></span>
<span id="cb28-14"><a href="#cb28-14"></a>x <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>)</span>
<span id="cb28-15"><a href="#cb28-15"></a><span class="fu">hist</span>(x, <span class="at">col =</span> <span class="st">"lavender"</span>, <span class="at">main =</span> <span class="st">"Normal Histogram"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="basic_programming_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise" class="level3" data-number="3.6.3"><h3 data-number="3.6.3" class="anchored" data-anchor-id="exercise">
<span class="header-section-number">3.6.3</span> Exercise</h3>
<ul>
<li>
<em>Generate a 1000 standard uniforms</em> <code>sort</code> <em>(in ascending order) your pseudo data. (Hint:</em> <code><a href="https://rdrr.io/r/stats/Uniform.html">?runif</a></code> <em>and</em> <code><a href="https://rdrr.io/r/base/sort.html">?sort</a></code>).</li>
<li><em>Plot the random uniforms using the plot-function (Add any arguments you find necessary, i.e., legend or axis text)</em></li>
<li>
<em>Then save the plot as a .pdf in your working directory (Check your WD with</em> <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code><em>) using the following wrapper:</em>
</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/pdf.html">pdf</a></span><span class="op">(</span><span class="st">"./myplot.pdf"</span><span class="op">)</span> <span class="co"># Your plot function with input</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Solution</strong>:</p>
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>, main <span class="op">=</span> <span class="st">"Uniform sample"</span>, xlab <span class="op">=</span> <span class="st">"Ordering"</span>, ylab <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span> <span class="co"># A simple scatterplot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">x</span>, cex <span class="op">=</span> <span class="fl">.5</span>, col <span class="op">=</span> <span class="st">"dark red"</span><span class="op">)</span> <span class="co"># Colors</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="basic_programming_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="additional-code-in-r" class="level2" data-number="3.7"><h2 data-number="3.7" class="anchored" data-anchor-id="additional-code-in-r">
<span class="header-section-number">3.7</span> Additional code in R</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click to view “Week1_lecture1.R”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co">#0.1. clear the workspace</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co">#0.2. set the working directory</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="fu">setwd</span>(<span class="st">"...Exercises"</span>)</span>
<span id="cb31-6"><a href="#cb31-6"></a></span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="co">#1. If statement exercise</span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="co"># Simulate a standard random normal variable</span></span>
<span id="cb31-9"><a href="#cb31-9"></a>dX <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>)</span>
<span id="cb31-10"><a href="#cb31-10"></a></span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="co"># Plain if</span></span>
<span id="cb31-12"><a href="#cb31-12"></a><span class="cf">if</span> (dX <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb31-13"><a href="#cb31-13"></a>dX_2 <span class="ot">&lt;-</span> dX<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="fu">print</span>(dX_2)</span>
<span id="cb31-15"><a href="#cb31-15"></a>} <span class="cf">else</span> {</span>
<span id="cb31-16"><a href="#cb31-16"></a>dX_3 <span class="ot">&lt;-</span> dX<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb31-17"><a href="#cb31-17"></a><span class="fu">print</span>(dX_3)</span>
<span id="cb31-18"><a href="#cb31-18"></a>}</span>
<span id="cb31-19"><a href="#cb31-19"></a></span>
<span id="cb31-20"><a href="#cb31-20"></a><span class="co"># Simulate a standard uniform random variable</span></span>
<span id="cb31-21"><a href="#cb31-21"></a>dX <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>) </span>
<span id="cb31-22"><a href="#cb31-22"></a></span>
<span id="cb31-23"><a href="#cb31-23"></a><span class="co"># Nested if</span></span>
<span id="cb31-24"><a href="#cb31-24"></a><span class="cf">if</span> (dX <span class="sc">&lt;</span> <span class="fl">0.5</span>) {</span>
<span id="cb31-25"><a href="#cb31-25"></a>  <span class="fu">print</span>(<span class="st">"x is less than 0.5"</span>)</span>
<span id="cb31-26"><a href="#cb31-26"></a>} <span class="cf">else</span> <span class="cf">if</span> (dX <span class="sc">&lt;</span> <span class="fl">0.75</span>) {</span>
<span id="cb31-27"><a href="#cb31-27"></a>  <span class="fu">print</span>(<span class="st">"x is less than 0.75"</span>)</span>
<span id="cb31-28"><a href="#cb31-28"></a>} <span class="cf">else</span> {</span>
<span id="cb31-29"><a href="#cb31-29"></a>  <span class="fu">print</span>(<span class="st">"x is greater than or equal to 0.75"</span>)</span>
<span id="cb31-30"><a href="#cb31-30"></a>}</span>
<span id="cb31-31"><a href="#cb31-31"></a></span>
<span id="cb31-32"><a href="#cb31-32"></a><span class="co">#2. While loop </span></span>
<span id="cb31-33"><a href="#cb31-33"></a>iN <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-34"><a href="#cb31-34"></a><span class="cf">while</span>(iN <span class="sc">&lt;=</span> <span class="dv">6</span>) {</span>
<span id="cb31-35"><a href="#cb31-35"></a>  <span class="fu">print</span>(iN<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb31-36"><a href="#cb31-36"></a>  iN <span class="ot">&lt;-</span> iN <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb31-37"><a href="#cb31-37"></a>}</span>
<span id="cb31-38"><a href="#cb31-38"></a></span>
<span id="cb31-39"><a href="#cb31-39"></a></span>
<span id="cb31-40"><a href="#cb31-40"></a>dX <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="dv">100</span>, <span class="at">sd =</span> <span class="fu">sqrt</span>(<span class="dv">100</span>))</span>
<span id="cb31-41"><a href="#cb31-41"></a>iN <span class="ot">&lt;-</span><span class="dv">0</span> </span>
<span id="cb31-42"><a href="#cb31-42"></a></span>
<span id="cb31-43"><a href="#cb31-43"></a><span class="cf">while</span> (dX <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb31-44"><a href="#cb31-44"></a>  dX <span class="ot">&lt;-</span> dX<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb31-45"><a href="#cb31-45"></a>  iN <span class="ot">&lt;-</span> iN <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb31-46"><a href="#cb31-46"></a>}</span>
<span id="cb31-47"><a href="#cb31-47"></a></span>
<span id="cb31-48"><a href="#cb31-48"></a><span class="fu">print</span>(iN)</span>
<span id="cb31-49"><a href="#cb31-49"></a></span>
<span id="cb31-50"><a href="#cb31-50"></a></span>
<span id="cb31-51"><a href="#cb31-51"></a><span class="co">#3.Load  data</span></span>
<span id="cb31-52"><a href="#cb31-52"></a><span class="co">#Comma delimited: sep=","</span></span>
<span id="cb31-53"><a href="#cb31-53"></a><span class="co">#   dec=".": character used in the file for decimal points</span></span>
<span id="cb31-54"><a href="#cb31-54"></a><span class="co">#   header=TRUE :the names of the variables as its first line</span></span>
<span id="cb31-55"><a href="#cb31-55"></a><span class="co">#   row.names=1: Column containing row names na.strings = "null"</span></span>
<span id="cb31-56"><a href="#cb31-56"></a><span class="co"># na.strings = "null": String "null" in the data to NA</span></span>
<span id="cb31-57"><a href="#cb31-57"></a>mData <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">"C:/Users/au698611/OneDrive - Aarhus Universitet/Desktop/Lectures/PQE 2022/Lecture 3/Exercises/MAERSK-B.CO.csv"</span>,<span class="at">sep=</span><span class="st">","</span>,<span class="at">dec=</span><span class="st">"."</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">row.names=</span><span class="dv">1</span>,<span class="at">na.strings =</span> <span class="st">"null"</span>)</span>
<span id="cb31-58"><a href="#cb31-58"></a></span>
<span id="cb31-59"><a href="#cb31-59"></a><span class="co"># Display part of the data</span></span>
<span id="cb31-60"><a href="#cb31-60"></a><span class="fu">head</span>(mData)</span>
<span id="cb31-61"><a href="#cb31-61"></a></span>
<span id="cb31-62"><a href="#cb31-62"></a><span class="co"># Dimensions of the data</span></span>
<span id="cb31-63"><a href="#cb31-63"></a><span class="fu">dim</span>(mData)</span>
<span id="cb31-64"><a href="#cb31-64"></a></span>
<span id="cb31-65"><a href="#cb31-65"></a><span class="co"># Row names:vector of date entries</span></span>
<span id="cb31-66"><a href="#cb31-66"></a><span class="fu">row.names</span>(mData)</span>
<span id="cb31-67"><a href="#cb31-67"></a></span>
<span id="cb31-68"><a href="#cb31-68"></a><span class="co">#Search for NAs </span></span>
<span id="cb31-69"><a href="#cb31-69"></a><span class="fu">any</span>(<span class="fu">is.na</span>(mData[,<span class="st">"Adj.Close"</span>]))</span>
<span id="cb31-70"><a href="#cb31-70"></a></span>
<span id="cb31-71"><a href="#cb31-71"></a><span class="co">#How many?</span></span>
<span id="cb31-72"><a href="#cb31-72"></a><span class="fu">length</span>(<span class="fu">which</span>(<span class="fu">is.na</span>(mData[,<span class="st">"Adj.Close"</span>])))</span>
<span id="cb31-73"><a href="#cb31-73"></a></span>
<span id="cb31-74"><a href="#cb31-74"></a><span class="co">#4. Construct a new data-set</span></span>
<span id="cb31-75"><a href="#cb31-75"></a><span class="co">#Compute financial log-returns omitting the NAs: log(P_t)-log(P_{t-1})</span></span>
<span id="cb31-76"><a href="#cb31-76"></a>vY <span class="ot">&lt;-</span> <span class="fu">diff</span>(<span class="fu">log</span>(<span class="fu">na.omit</span>(mData[,<span class="st">"Adj.Close"</span>])))</span>
<span id="cb31-77"><a href="#cb31-77"></a></span>
<span id="cb31-78"><a href="#cb31-78"></a></span>
<span id="cb31-79"><a href="#cb31-79"></a><span class="co">#Compute descriptive statistics</span></span>
<span id="cb31-80"><a href="#cb31-80"></a><span class="fu">c</span>(<span class="st">"mean"</span><span class="ot">=</span><span class="fu">mean</span>(vY), <span class="st">"sd"</span><span class="ot">=</span><span class="fu">sd</span>(vY), <span class="st">"median"</span><span class="ot">=</span><span class="fu">median</span>(vY))</span>
<span id="cb31-81"><a href="#cb31-81"></a></span>
<span id="cb31-82"><a href="#cb31-82"></a>R.names <span class="ot">&lt;-</span> <span class="fu">rownames</span>(mData)[<span class="fu">which</span>(mData[,<span class="st">"Adj.Close"</span>]<span class="sc">!=</span><span class="st">"null"</span>)]</span>
<span id="cb31-83"><a href="#cb31-83"></a>R.names <span class="ot">&lt;-</span> R.names[<span class="sc">-</span><span class="dv">1</span>] <span class="co">#remove the first element</span></span>
<span id="cb31-84"><a href="#cb31-84"></a></span>
<span id="cb31-85"><a href="#cb31-85"></a><span class="co">#Write the output to a file and check it</span></span>
<span id="cb31-86"><a href="#cb31-86"></a><span class="fu">write.table</span>(vY, file <span class="ot">&lt;-</span> <span class="st">"C:/Users/au698611/OneDrive - Aarhus Universitet/Desktop/Lectures/PQE 2022/Lecture 3/Exercises/MAERSK_returns.csv"</span>,<span class="at">sep=</span><span class="st">","</span>, <span class="at">row.names =</span> R.names, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"time,Log return"</span>), <span class="at">dec =</span> <span class="st">"."</span>)</span>
<span id="cb31-87"><a href="#cb31-87"></a></span>
<span id="cb31-88"><a href="#cb31-88"></a><span class="co">#5.Plots</span></span>
<span id="cb31-89"><a href="#cb31-89"></a><span class="co"># A sine function plot</span></span>
<span id="cb31-90"><a href="#cb31-90"></a>vX <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.1</span>)</span>
<span id="cb31-91"><a href="#cb31-91"></a>vY <span class="ot">&lt;-</span> <span class="fu">sin</span>(vX)</span>
<span id="cb31-92"><a href="#cb31-92"></a><span class="fu">plot</span>(vX, vY, <span class="at">type =</span> <span class="st">"l"</span>)</span>
<span id="cb31-93"><a href="#cb31-93"></a></span>
<span id="cb31-94"><a href="#cb31-94"></a><span class="co">#Plot of  random uniform variables</span></span>
<span id="cb31-95"><a href="#cb31-95"></a>vZ <span class="ot">=</span> <span class="fu">runif</span>(<span class="dv">10</span>)</span>
<span id="cb31-96"><a href="#cb31-96"></a><span class="fu">plot</span>(vZ)</span>
<span id="cb31-97"><a href="#cb31-97"></a></span>
<span id="cb31-98"><a href="#cb31-98"></a><span class="co">#Create a window for two plots</span></span>
<span id="cb31-99"><a href="#cb31-99"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb31-100"><a href="#cb31-100"></a></span>
<span id="cb31-101"><a href="#cb31-101"></a><span class="co"># Parabola: type("n") just prepares a frame</span></span>
<span id="cb31-102"><a href="#cb31-102"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">5</span>,<span class="at">by=</span><span class="fl">0.01</span>)</span>
<span id="cb31-103"><a href="#cb31-103"></a>y.upper <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span><span class="fu">sqrt</span>(x)</span>
<span id="cb31-104"><a href="#cb31-104"></a>y.lower <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span><span class="sc">*</span><span class="fu">sqrt</span>(x)</span>
<span id="cb31-105"><a href="#cb31-105"></a>y.max <span class="ot">&lt;-</span> <span class="fu">max</span>(y.upper)</span>
<span id="cb31-106"><a href="#cb31-106"></a>y.min <span class="ot">&lt;-</span> <span class="fu">min</span>(y.lower)</span>
<span id="cb31-107"><a href="#cb31-107"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">5</span>), <span class="fu">c</span>(y.min,y.max), <span class="at">type=</span><span class="st">"n"</span>, <span class="at">xlab =</span> <span class="st">"x"</span>, <span class="at">ylab =</span> <span class="st">"y"</span>, <span class="at">main =</span> <span class="st">"Parabola Graph"</span>)</span>
<span id="cb31-108"><a href="#cb31-108"></a><span class="fu">lines</span>(x, y.upper, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"deepskyblue"</span>)</span>
<span id="cb31-109"><a href="#cb31-109"></a><span class="fu">lines</span>(x, y.lower, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"deepskyblue"</span>)</span>
<span id="cb31-110"><a href="#cb31-110"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="sc">-</span><span class="dv">1</span>, <span class="at">lty =</span> <span class="dv">3</span>)  <span class="co">#v: specifies x-value for vertical line, </span></span>
<span id="cb31-111"><a href="#cb31-111"></a><span class="co">#lty- different line types:1-solid line,3-dotted, etc.</span></span>
<span id="cb31-112"><a href="#cb31-112"></a><span class="fu">points</span>(<span class="dv">1</span>,<span class="dv">0</span>, <span class="at">col =</span> <span class="st">"tomato"</span>, <span class="at">pch =</span> <span class="dv">5</span>) <span class="co">#(1,0) stands for (x,y) coordinates. pch is a symbol-5 is diamond</span></span>
<span id="cb31-113"><a href="#cb31-113"></a><span class="co">#Add a text: (1,0) stands for (x,y) coordinates</span></span>
<span id="cb31-114"><a href="#cb31-114"></a><span class="co"># 1, 2, 3 and 4  respectively indicate positions below, to the left of, above and to the right of  (x,y) coordinates.</span></span>
<span id="cb31-115"><a href="#cb31-115"></a><span class="fu">text</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="st">"focus (1,0)"</span>,<span class="at">pos=</span><span class="dv">4</span>) <span class="co">#(1,0) stands for (x,y).</span></span>
<span id="cb31-116"><a href="#cb31-116"></a></span>
<span id="cb31-117"><a href="#cb31-117"></a><span class="co">#Histogram of standard normal distribution</span></span>
<span id="cb31-118"><a href="#cb31-118"></a>x <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>)</span>
<span id="cb31-119"><a href="#cb31-119"></a><span class="fu">hist</span>(x, <span class="at">col =</span> <span class="st">"lavender"</span>, <span class="at">main =</span> <span class="st">"Normal Histogram"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./getting_started_with_r.html" class="pagination-link" aria-label="Getting Started with R">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./programming_w_functions.html" class="pagination-link" aria-label="Programming with Functions">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Programming with Functions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>